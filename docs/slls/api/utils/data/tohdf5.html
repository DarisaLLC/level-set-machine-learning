
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>stat_learn_level_set.utils.data.tohdf5 &#8212; LIDC Dataset and Segmentation  documentation</title>
    <link rel="stylesheet" href="../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="stat_learn_level_set.utils.data.splitter" href="splitter.html" />
    <link rel="prev" title="stat_learn_level_set.utils.masked_grad" href="../masked_grad.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-stat_learn_level_set.utils.data.tohdf5">
<span id="stat-learn-level-set-utils-data-tohdf5"></span><h1>stat_learn_level_set.utils.data.tohdf5<a class="headerlink" href="#module-stat_learn_level_set.utils.data.tohdf5" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="stat_learn_level_set.utils.data.tohdf5.convert">
<code class="descclassname">stat_learn_level_set.utils.data.tohdf5.</code><code class="descname">convert</code><span class="sig-paren">(</span><em>imgs</em>, <em>segs</em>, <em>path</em>, <em>dx=None</em>, <em>verbose=True</em>, <em>compress=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/stat_learn_level_set/utils/data/tohdf5.html#convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stat_learn_level_set.utils.data.tohdf5.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a dataset of images and boolean segmentations
to hdf5 format, which is required for the level set routine.</p>
<p>The format assuming <cite>hf</cite> is and h5py <cite>File</cite> is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span>
<span class="o">|</span><span class="n">_</span> <span class="n">img</span>
<span class="o">|</span><span class="n">_</span> <span class="n">seg</span>
<span class="o">|</span><span class="n">_</span> <span class="n">dist</span>
<span class="o">|</span><span class="n">_</span> <span class="n">attrs</span>
   <span class="o">|</span><span class="n">_</span> <span class="n">dx</span>
</pre></div>
</div>
<p>In other words, the 17th image example would be accessed like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">img17</span> <span class="o">=</span> <span class="n">hf</span><span class="p">[</span><span class="s2">&quot;17/img&quot;</span><span class="p">][</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>The attributes (<cite>attrs</cite>) are special and accessed like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hf</span><span class="p">[</span><span class="s2">&quot;17&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;dx&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>The format above is the one necessary for level set routine; however,
additional information can be stored in the dataset if desired by
writing separate scripts to append the dataset. For example, the center
of mass of the ground truth might be useful meta (attribute) information
to store.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>imgs</strong> (<em>ndarray</em><em>, </em><em>shape=</em><em>(</em><em>nexamples</em><em>,</em><em>) </em><em>+ img.shape</em>) – The list of image examples for the dataset.</li>
<li><strong>segs</strong> (<em>ndarray</em><em>, </em><em>shape=</em><em>(</em><em>nexamples</em><em>,</em><em>) </em><em>+ seg.shape</em>) – The list of image examples for the dataset.</li>
<li><strong>path</strong> (<em>str</em>) – <p>The file path and file name to store the hdf5 data file, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;/home/user/Data/my_dataset.h5&quot;</span>
</pre></div>
</div>
</li>
<li><strong>dx</strong> (<em>ndarray</em><em>, </em><em>shape=</em><em>(</em><em>nexamples</em><em>, </em><em>img.ndim</em><em>)</em><em>, </em><em>default=None</em>) – The resolutions along each axis for each image. The default (None)
assumes the resolution is 1 along each axis direction, but this
might not be the case for anisotropic data (e.g., CT scan data).</li>
<li><strong>verbose</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Print progress if True.</li>
<li><strong>compress</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, <cite>gzip</cite> compression with default compression options (level=4)
is used for the image and segmentations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../../../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">LIDC</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../lidc/setup.html">Setup and Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../lidc/create-dataset.html">Making a dataset for segmentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/2d-hamburger.html">Segment 2d images</a></li>
</ul>
<p class="caption"><span class="caption-text">Full documentation and specs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">SLLS API</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">SLLS API</a><ul>
      <li>Previous: <a href="../masked_grad.html" title="previous chapter">stat_learn_level_set.utils.masked_grad</a></li>
      <li>Next: <a href="splitter.html" title="next chapter">stat_learn_level_set.utils.data.splitter</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Matt Hancock.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>